<%- include('partials/header') %>
<%- include('partials/sidebar') %>

<div class="container">
  <h1>Notifications</h1>

  <% if (notifications.length > 0) { %>
    <div class="notification-list">
      <% notifications.forEach(n => { %>
        <div class="notification-item">
          <img src="/uploads/<%= n.sender.profilePic %>" alt="user" onerror="this.src='/images/default-profile.png';">
          <div class="notification-content">
            <p>
              <% if (n.type === 'like') { %><span class="emoji">‚ù§Ô∏è</span>
              <% } else if (n.type === 'comment') { %><span class="emoji">üí¨</span>
              <% } else if (n.type === 'follow') { %><span class="emoji">üë§</span>
              <% } else { %><span class="emoji">üîî</span>
              <% } %>
              <strong><%= n.sender.username %></strong> <%= n.message %>
            </p>
            <span class="notification-time"><%= n.createdAt.toDateString() %></span>
          </div>
        </div>
      <% }) %>
    </div>
  <% } else { %>
    <p>No notifications yet.</p>
  <% } %>
</div>
